# Use a imagem Node.js oficial como base
FROM node:18.16.0

ENV DB_URL="mongodb://mongo:27017/ACHEI_O_BICHO"
ENV PORT=8080
ENV REDIS_HOST="redis"
ENV REDIS_PORT=6379
ENV REDIS_PASSWORD='O#lxYry!zEa><FKa'
ENV GLOBAL_PATH=apl-back-front/v1
ENV SECRET_KEY="I[W9X9QG>a0RkgmjiQ>X"
ENV INSTANCE_ID=instance69566
ENV TOKEN_API_MSG=1qwxsr4ofpb3nwuy
ENV TIMESTAMP_OTP=6000
ENV REGION_AWS=us-east-1
ENV AWS_ACCESS_KEY_ID=ASIA37I4JEJJT6PYZUW6
ENV AWS_SECRET_ACCESS_KEY=54NXyqSRqAm18t1H6SUI4euw88XoJRSfyW0VC9kr
ENV AWS_SESSION_TOKEN=FwoGZXIvYXdzEDUaDKZXNtp7hOqgTuToOyK8AT/4TQehh6eKjU6KO2PqOCeBFNZJKvVEMcFXtB54eVF0rKGcXg3AWTa2CPE54wQWKFTlmibYsqHEEAJRx830jqQ7NiZ5SMM01gePn50mJLsrrDnbkP3W1ztPN96NwsvcGeg43kM2ijcG5pgNy8do6I9QR4UXZ5gTqvQnsmFSZ9seJDzugTL5enVSotNSKQzl+C5EqnL+ZqXMQAr5M0YvjFhcTjeLpQeNgW5cBpIYgeIdBANTkOhQcpFUiSvWKO6MiasGMi0r6GVYtRQdfKKeZeuwFwCbXvAkvkt0JOTKENgQ66q8MEOf8b65sLB3m7mzTIw=
ENV BUCKET_S3=pilha-nuvem-tcc-sptech-bucket
ENV BEARER_TOKEN_CLOUD_FUNCTION=eyJhbGciOiJSUzI1NiIsImtpZCI6IjBlNzJkYTFkZjUwMWNhNmY3NTZiZjEwM2ZkN2M3MjAyOTQ3NzI1MDYiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJhY2NvdW50cy5nb29nbGUuY29tIiwiYXpwIjoiNjE4MTA0NzA4MDU0LTlyOXMxYzRhbGczNmVybGl1Y2hvOXQ1Mm4zMm42ZGdxLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwiYXVkIjoiNjE4MTA0NzA4MDU0LTlyOXMxYzRhbGczNmVybGl1Y2hvOXQ1Mm4zMm42ZGdxLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwic3ViIjoiMTE4MDUwNjQ3OTUzMjgxNDM1NDk3IiwiZW1haWwiOiJqb3NlLmJhbmR0ZWNAZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImF0X2hhc2giOiJYS3pfVXhDaW50NS1vZ0JvM3p2SG5RIiwibmJmIjoxNzAwOTQzNTA0LCJpYXQiOjE3MDA5NDM4MDQsImV4cCI6MTcwMDk0NzQwNCwianRpIjoiNDFlZTc4YjhiNjU3ZTA4NTlmYzI1OTc5MmVmMWY2MGMyYzM4ZTY1OSJ9.ohW-fw9TRstJn99wJQZT00HE6BXBfWCz8SVLQi3FEKRjfNMsBmP1zZoyxd6mVDWWSCrC8jq6ntdD-y3hy5UMOSQKGO_7py4CfOGf6B8mAPAehcAseYxk-fNz0ZiALtLR26xrx_wlafSEmgYPAUc63qzLJwocaPMbuGgzlO9OO4EZGPVxLj-_QICkzmHQZp9iYEWDT9NljRACxV99Mvng318SLyq8LZV_N6Y_qxT1U7vyYoAPW2ThI73i_7mve1mJxlzhY0pR8E5QmBeUWbFkHtqa2z7JN3QhnAtbWTyKZQEzqVVs-x6v6lgje2ZAh6ECfmc8gNotFfBYHxB-USldFA
# Defina o diretório de trabalho dentro do contêiner
WORKDIR /app

# Copie o arquivo package.json e package-lock.json para o diretório de trabalho
COPY package*.json ./

# Instale as dependências do projeto
RUN npm install --legacy-peer-deps

# Copie todo o código-fonte da aplicação para o contêiner
COPY . .

# Exponha a porta em que a aplicação estará ouvindo
EXPOSE 8080

# Comando para iniciar a aplicação
CMD ["npm", "start"]
