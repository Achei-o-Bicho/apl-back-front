# Use a imagem Node.js oficial como base
FROM node:18.16.0

ENV DB_URL="mongodb://mongo:27017/ACHEI_O_BICHO"
ENV PORT=8080
ENV REDIS_HOST="localhost"
ENV REDIS_PORT=6379
ENV REDIS_PASSWORD='O#lxYry!zEa><FKa'
ENV GLOBAL_PATH=apl-back-front/v1
ENV SECRET_KEY="I[W9X9QG>a0RkgmjiQ>X"
ENV INSTANCE_ID=instance58223
ENV TOKEN_API_MSG=3rvnc6k2oo4w8ygq
ENV TIMESTAMP_OTP=6000
ENV REGION_AWS=us-east-1
ENV AWS_ACCESS_KEY_ID=ASIA37I4JEJJ3KLSHOW6
ENV AWS_SECRET_ACCESS_KEY=K2ByDFKYMgazgFkRoOlXV9O/4Lqg05zZNQBLW8E1
ENV AWS_SESSION_TOKEN=FwoGZXIvYXdzEMv//////////wEaDJLP4MseH30DP+nlECK8AZKB1jXdVAe2vAodLkQ8njOunPq63U3HNrjs4zZvTobX3tOcnvS3wQqUlOvbtmFfwmt+yT8SRwpgR5UgQ+mc71ZMf1w93OYkD0NS/sf6mz5xUNYiovQgilrvgCPne+I7A+YhcwG3+yYhDgxr6iPF/+N7q2iA91aSiAPNI6svvAPX62avyFAbdKX8Ef6wGPFN28pnSPMSs7YKNvpJKsvV7zKcXwCbbR4P3/HvpGkanaTo6BVB+m7b32iEmNq4KKeugaoGMi2glrEuGW/mm0NZipJDEhn/y46n2sqErz7nkf2/KUCzahvkHB2FqQMgmdCDSSQ=
ENV BUCKET_S3=pilha-nuvem-tcc-sptech-bucket
ENV BEARER_TOKEN_CLOUD_FUNCTION=eyJhbGciOiJSUzI1NiIsImtpZCI6ImY1ZjRiZjQ2ZTUyYjMxZDliNjI0OWY3MzA5YWQwMzM4NDAwNjgwY2QiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJhY2NvdW50cy5nb29nbGUuY29tIiwiYXpwIjoiNjE4MTA0NzA4MDU0LTlyOXMxYzRhbGczNmVybGl1Y2hvOXQ1Mm4zMm42ZGdxLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwiYXVkIjoiNjE4MTA0NzA4MDU0LTlyOXMxYzRhbGczNmVybGl1Y2hvOXQ1Mm4zMm42ZGdxLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwic3ViIjoiMTE4MDUwNjQ3OTUzMjgxNDM1NDk3IiwiZW1haWwiOiJqb3NlLmJhbmR0ZWNAZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImF0X2hhc2giOiIydWRoM01uZlUzWUMxd0hlU0pQamZBIiwibmJmIjoxNjk4NzE1NzUwLCJpYXQiOjE2OTg3MTYwNTAsImV4cCI6MTY5ODcxOTY1MCwianRpIjoiMjNlMWNlNGVhNDk2NjhjNzA4NDU3MDI0ZGVlNzhmYzk1ZTdmOTc1NCJ9.bLnCnA2W4g3T1vdmTRWLueyWUF9L3Aat0IS4U3thCUb3qWK9FPTCKqo4fBnAwTzkf4qnwQYlFZZzqIYDGS3bbqHSzhoeXeJMaIp7Uc17x9V5FONjPsVb4jqBlxqp8vUsGPmWKag97JOLpAuXHtPvDCqhQepGihcP66nh84V3thjyqfYfhj4pxPbW0GoaWNeBvYLTFyNQ-YbMgWlBDOIoxKT-1eXF3b0nXey0306z9R7jtwAQOoWcsC5b6H42AP6ZRh-clLoSv62rbIrR8o-qE_wxzCWSOAWFt3hFIYKlNpaGgASdrzNdSWojHlb6EMgQi6NW3dbIjx9lv-hgBLw9bQ
# Defina o diretório de trabalho dentro do contêiner
WORKDIR /app

# Copie o arquivo package.json e package-lock.json para o diretório de trabalho
COPY package*.json ./

# Instale as dependências do projeto
RUN npm install --legacy-peer-deps

# Copie todo o código-fonte da aplicação para o contêiner
COPY . .

# Exponha a porta em que a aplicação estará ouvindo
EXPOSE 8080

# Comando para iniciar a aplicação
CMD ["npm", "start"]
