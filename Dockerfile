# Use a imagem Node.js oficial como base
FROM node:18.16.0

ENV DB_URL="mongodb://mongo:27017/ACHEI_O_BICHO"
ENV PORT=8080
ENV GLOBAL_PATH=apl-back-front/v1
ENV SECRET_KEY="I[W9X9QG>a0RkgmjiQ>X"
ENV INSTANCE_ID=instance58223
ENV TOKEN_API_MSG=3rvnc6k2oo4w8ygq
ENV TIMESTAMP_OTP=6000
ENV REGION_AWS=us-east-1
ENV AWS_ACCESS_KEY_ID=ASIA37I4JEJJS5BWDD6A
ENV AWS_SECRET_ACCESS_KEY=H3/vPWeq00qpX54LXqeY2esoibf3bvca4gX/YUNJ
ENV AWS_SESSION_TOKEN=FwoGZXIvYXdzEML//////////wEaDLYjN87rV+DTQQAATCK8AcjEemtqJYEA/fez5fkD4LVg9aG2CcO35PGmbnbXypIXDl5L+/x7yM2p+bhaFtaZbBcvAT7UrMiCKFvEUQ3N1ASXGXVYeWXTw7sHfqCAK5crdA3LFBXphLJ5b0vXp7e9/tjLbKQzFy9HTmJxNv04QAyX1Wo0aYXjAVJ12w6LVPNBwi6yFfBX0oamxJI69rC4g1A1r0T0n6ad8S0rNcRVY8sqeBQvS7kaCKLtSLJcw7gOcWXXpaxZgw/2vcJQKNejx6kGMi2sM3ipb6ml6LyQjyg9yAnq5gb8kVQ/cQUT9TzvxVMWO+3ArFIrumm78U/K3AA=
ENV BUCKET_S3=pilha-nuvem-tcc-sptech-bucket
ENV BEARER_TOKEN_CLOUD_FUNCTION=eyJhbGciOiJSUzI1NiIsImtpZCI6IjdkMzM0NDk3NTA2YWNiNzRjZGVlZGFhNjYxODRkMTU1NDdmODM2OTMiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJhY2NvdW50cy5nb29nbGUuY29tIiwiYXpwIjoiNjE4MTA0NzA4MDU0LTlyOXMxYzRhbGczNmVybGl1Y2hvOXQ1Mm4zMm42ZGdxLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwiYXVkIjoiNjE4MTA0NzA4MDU0LTlyOXMxYzRhbGczNmVybGl1Y2hvOXQ1Mm4zMm42ZGdxLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwic3ViIjoiMTE4MDUwNjQ3OTUzMjgxNDM1NDk3IiwiZW1haWwiOiJqb3NlLmJhbmR0ZWNAZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImF0X2hhc2giOiJhaGozZWx1ZXAwdWtUQTN0OTBDNkdRIiwibmJmIjoxNjk3NzY2NDMzLCJpYXQiOjE2OTc3NjY3MzMsImV4cCI6MTY5Nzc3MDMzMywianRpIjoiNzczOTg5OWNiZWQzZmNmOGZhZjI1YWRjZDQ2MzMxYWZjNjcxZDFjNyJ9.KYJvfux3ZfXqIJzIzG1yAB9EDHVZIt4tc7m_2_m4MxRzu73fEcKWC1oAnAZLc2vR9akRxQ1DtpA6gTJW4hBO56nbcYnZb-fJD2l5t-XUhIuvmqwLjrVWCDx-_tcmL_McHN102pZBzo1FNQIUzKVZweu2fxZAsF7CfjpCe6VtnockxEjM4u6MFl3C3y7NYKg9J0Of6zs83pfjGTSUZYUO2dsFRFh_gOuCSI_4BBU6xeAeYVZ_6jKQZCAj7L3fP9reqlF8LFic4i5CxyDRWbwHOkL-L6BniViI1xpecJNC7FyLN0-xTMb9JrL571X-KVbBkswkMLk_PzUjBrfpfNiYUA
# Defina o diretório de trabalho dentro do contêiner
WORKDIR /app

# Copie o arquivo package.json e package-lock.json para o diretório de trabalho
COPY package*.json ./

# Instale as dependências do projeto
RUN npm install

# Copie todo o código-fonte da aplicação para o contêiner
COPY . .

# Exponha a porta em que a aplicação estará ouvindo
EXPOSE 8080

# Comando para iniciar a aplicação
CMD ["npm", "start"]
