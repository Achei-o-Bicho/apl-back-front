# Use a imagem Node.js oficial como base
FROM node:18.16.0

ENV DB_URL="mongodb://mongo:27017/ACHEI_O_BICHO"
ENV MONGODB_PASSWORD=Admin@acbc
ENV MONGODB_USERNAME=adbc
ENV PORT=8080
ENV REDIS_HOST="redis"
ENV REDIS_PORT=6379
ENV REDIS_PASSWORD='O#lxYry!zEa><FKa'
ENV GLOBAL_PATH=apl-back-front/v1
ENV SECRET_KEY="I[W9X9QG>a0RkgmjiQ>X"
ENV INSTANCE_ID=instance69566
ENV TOKEN_API_MSG=1qwxsr4ofpb3nwuy
ENV TIMESTAMP_OTP=6000
ENV REGION_AWS=us-east-1
ENV AWS_ACCESS_KEY_ID=ASIA37I4JEJJ5TGUNWAC
ENV AWS_SECRET_ACCESS_KEY=tUFEaoUazn7FhoVNFXOz4tU7DQMAKQ2v2v26rm2/
ENV AWS_SESSION_TOKEN=FwoGZXIvYXdzEMf//////////wEaDBQp7B97ebg58JOR7SK8ARf2P1uk+Cqwe2kdIcDCy6/di9XRkmEyuYn4vb34/QMvHuXrw/p8nHRMcSK3E1I35j0nkpnsqBTOren7IaBqW6yWifKnCcAMDqT4ussOTLtjD2maW+DFJFVpjw8Jsf6VYQpYewXmULiFcNAEcHrzJEzDQQBRt/hchTYVEF7kzmE/se+iR30xNNdjtmb/MszZGkJRQz+kqnMS+cp8qWx4ohyQGpJn4PrAGOK2KaRSx10wSQSKmyEQX6RMAl9+KN+oqasGMi38zy4MFjJZSBiRu7l8pi7SajRiByZ5VaELoKEHZ2/JricohR0cV0m+5mKIDhU=
ENV BEARER_TOKEN_CLOUD_FUNCTION=eyJhbGciOiJSUzI1NiIsImtpZCI6ImU0YWRmYjQzNmI5ZTE5N2UyZTExMDZhZjJjODQyMjg0ZTQ5ODZhZmYiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJhY2NvdW50cy5nb29nbGUuY29tIiwiYXpwIjoiNjE4MTA0NzA4MDU0LTlyOXMxYzRhbGczNmVybGl1Y2hvOXQ1Mm4zMm42ZGdxLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwiYXVkIjoiNjE4MTA0NzA4MDU0LTlyOXMxYzRhbGczNmVybGl1Y2hvOXQ1Mm4zMm42ZGdxLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwic3ViIjoiMTE4MDUwNjQ3OTUzMjgxNDM1NDk3IiwiZW1haWwiOiJqb3NlLmJhbmR0ZWNAZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImF0X2hhc2giOiJCTzNPUlJsSUdUd3dTM3RVdVhoLUNnIiwibmJmIjoxNzAxNDc0MzI4LCJpYXQiOjE3MDE0NzQ2MjgsImV4cCI6MTcwMTQ3ODIyOCwianRpIjoiOTk1M2Y1MWNjMGQwMDk5ZjQzMDZhNTllZGIyYjZhOTBjZTY5NTZhYiJ9.JHlzSOB0z4k2axdshjFHQDxg5r4jmpIXKmrIX8U5ZJineZ_Ce3ZSZ3BAMoIBRprSmy5GtauKZcqgqnKX2N2814oviE-6URyfa1r019lsdYRDlZ0ZSwtdsC_wq0nrmliC3kBxM54NR7ou5ZpDeQpPYoHnO7FgR-k2B8eNftX_mHFCc95MWE9ERh8JiRDQctUeAGbEgfK84-8xNpDOlrZb4yquBbK3kUQOlZq3J0HHx8sp9J0k5tAsix8j-cL25M5O2YK9uDdyMqSO1RQuBWuZ4KttlsidEX09bQ0GahTM1uj1lQH-72HhYYrpGRuMJWKfTtgvU8d2qxr4c9Znz6Xtqg
# Defina o diretório de trabalho dentro do contêiner
WORKDIR /app

# Copie o arquivo package.json e package-lock.json para o diretório de trabalho
COPY package*.json ./

# Instale as dependências do projeto
RUN npm install --legacy-peer-deps

# Copie todo o código-fonte da aplicação para o contêiner
COPY . .

# Exponha a porta em que a aplicação estará ouvindo
EXPOSE 8080

# Comando para iniciar a aplicação
CMD ["npm", "start"]
