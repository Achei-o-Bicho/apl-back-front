# Use a imagem Node.js oficial como base
FROM node:18.16.0

ENV DB_URL="mongodb://mongo:27017/ACHEI_O_BICHO"
ENV PORT=8080
ENV GLOBAL_PATH=apl-back-front/v1
ENV SECRET_KEY="I[W9X9QG>a0RkgmjiQ>X"
ENV INSTANCE_ID=instance58223
ENV TOKEN_API_MSG=3rvnc6k2oo4w8ygq
ENV TIMESTAMP_OTP=6000
ENV REGION_AWS=us-east-1
ENV AWS_ACCESS_KEY_ID=ASIA37I4JEJJQ4KPVUIX
ENV AWS_SECRET_ACCESS_KEY=vYeyKCwuIV9ZRepuXf4iLrqlDA5Cwv1AATJdkJVz
ENV AWS_SESSION_TOKEN=FwoGZXIvYXdzEFMaDLH5eV+jKqBSP/csJCK8Aac2tHWXshwKpKpueGO2oUHhnJhoP44ZcD708ZA/tuZF4l7Bjll6H3oz1XpDgqA8jn1JP/LvCSoTeO1i9VUsPHvrUDs2Y+IXMUiI3ORS7AXKVtK70aDf0XgvsEF9/0SH4PYfD8wSNf4TIQ9GpSiPVQX3ID3GsYenp2kNJpFdWbntxT3/voxPNeTzmUsZ1L1Fe3Qzc5WBfqiwItiwjr16Z/gm0ActewcHsLGOr6T42r4H0VohpvT62E4vAwxcKIH65qkGMi1KeulCcdAAmSAOXkLTAoSlr6UIwZW8/202HD2AoOK7EaD48K9ePBtEtw44i84=
ENV BUCKET_S3=pilha-nuvem-tcc-sptech-bucket
ENV BEARER_TOKEN_CLOUD_FUNCTION=eyJhbGciOiJSUzI1NiIsImtpZCI6ImEwNmFmMGI2OGEyMTE5ZDY5MmNhYzRhYmY0MTVmZjM3ODgxMzZmNjUiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJhY2NvdW50cy5nb29nbGUuY29tIiwiYXpwIjoiNjE4MTA0NzA4MDU0LTlyOXMxYzRhbGczNmVybGl1Y2hvOXQ1Mm4zMm42ZGdxLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwiYXVkIjoiNjE4MTA0NzA4MDU0LTlyOXMxYzRhbGczNmVybGl1Y2hvOXQ1Mm4zMm42ZGdxLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwic3ViIjoiMTE4MDUwNjQ3OTUzMjgxNDM1NDk3IiwiZW1haWwiOiJqb3NlLmJhbmR0ZWNAZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImF0X2hhc2giOiJ1RHpFaFZ2YzZId3pvb1BsZzItdm1nIiwibmJmIjoxNjk4MjgyNjcyLCJpYXQiOjE2OTgyODI5NzIsImV4cCI6MTY5ODI4NjU3MiwianRpIjoiYmFjMjVjN2QzM2U3NjRjMTA0ZjMxYjI5YTYwMmMxM2JjOTZmMWJmZCJ9.gf-VziipDYSdUoU9MtAMFj6wG8q5COV1j0wKAHW92aiQT9v51ycbcgXSnC8mBdOI3l3VoALRtstUzYkw6uTwJqYe0F0ZbYlDsNTfzfeuAzIQ62_rj2unKpxI3vKrwVq9b0hr-Qp5kkS9w7Y-J0HVUd0yFiiNzyRiBFv-iuKmUNV6pxDubJSA9AIYoFMYA9_VZCGdGwlaWXYNBY3zEmy3vpL9v3c1sfTgThJa_0Id3rqLKr5hdQ2dDzle67zHYCw66drjD8P_pVNQsD60Hchn4a5FG9CmePBAN1_yFRCujB6NajGC4wpj-CKbvU2qlUz6rx6nUxFDlgVBSx61BMS8dQ
# Defina o diretório de trabalho dentro do contêiner
WORKDIR /app

# Copie o arquivo package.json e package-lock.json para o diretório de trabalho
COPY package*.json ./

# Instale as dependências do projeto
RUN npm install

# Copie todo o código-fonte da aplicação para o contêiner
COPY . .

# Exponha a porta em que a aplicação estará ouvindo
EXPOSE 8080

# Comando para iniciar a aplicação
CMD ["npm", "start"]
