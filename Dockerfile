# Use a imagem Node.js oficial como base
FROM node:18.16.0

ENV DB_URL="mongodb://mongo:27017/ACHEI_O_BICHO"
ENV MONGODB_PASSWORD=Admin@acbc
ENV MONGODB_USERNAME=adbc
ENV PORT=8080
ENV REDIS_HOST="redis"
ENV REDIS_PORT=6379
ENV REDIS_PASSWORD='O#lxYry!zEa><FKa'
ENV GLOBAL_PATH=apl-back-front/v1
ENV SECRET_KEY="I[W9X9QG>a0RkgmjiQ>X"
ENV INSTANCE_ID=instance69566
ENV TOKEN_API_MSG=1qwxsr4ofpb3nwuy
ENV TIMESTAMP_OTP=6000
ENV REGION_AWS=us-east-1
ENV AWS_ACCESS_KEY_ID=ASIA37I4JEJJ3GHN3LOB
ENV AWS_SECRET_ACCESS_KEY=esZQxfrJt97Ui6308e+LlmMzZsbcUOYh+vZZ6hwj
ENV AWS_SESSION_TOKEN=FwoGZXIvYXdzEIL//////////wEaDJO4N5Vk2o6uLsGiDyK8AbrtcGpTxjexh8vd28Jy1QG0omUTa+6o7+YGBLFCQls6OsuMgLY7FgkkwNPg6Am4FWNS1oVNA+7XS/TKG00mT4at6MfnvTUbLUrw39N6poMi9lPODc5Zy52oPdUzfMUjDcGADYJ1uwwJv5oSBENOKu7tJpHVpMMtp0ftuOZXAYwadWWKkEKAVK++gCjM47eDMowS6WkeYI72JSJubreYRQclQg0rP0BhIvBCQKX6tlqOznycepA4zoGACZV5KO2FmqsGMi0yudB2Hupy8wVveJ0DFKn+LEg+VVyQx8fLtkw5Uq/RvM3Z0Q8oiX8CFaGo3iM=
ENV BEARER_TOKEN_CLOUD_FUNCTION=yJhbGciOiJSUzI1NiIsImtpZCI6IjBlNzJkYTFkZjUwMWNhNmY3NTZiZjEwM2ZkN2M3MjAyOTQ3NzI1MDYiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJhY2NvdW50cy5nb29nbGUuY29tIiwiYXpwIjoiNjE4MTA0NzA4MDU0LTlyOXMxYzRhbGczNmVybGl1Y2hvOXQ1Mm4zMm42ZGdxLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwiYXVkIjoiNjE4MTA0NzA4MDU0LTlyOXMxYzRhbGczNmVybGl1Y2hvOXQ1Mm4zMm42ZGdxLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwic3ViIjoiMTE4MDUwNjQ3OTUzMjgxNDM1NDk3IiwiZW1haWwiOiJqb3NlLmJhbmR0ZWNAZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImF0X2hhc2giOiIyZl9TWlZlaGl5TUJfN3dlbk5MYU5RIiwibmJmIjoxNzAxMjE2ODg4LCJpYXQiOjE3MDEyMTcxODgsImV4cCI6MTcwMTIyMDc4OCwianRpIjoiZTFhMjg4MDg4OGRlMDhiZGE5OTE1YmNjOTQ3Y2FhZDk0Mzk3YTcxMiJ9.oP0W1Y534XH6a08pp74iHHyN_sjOpLJNkzkS_tt4mKpJDPGNCbsZx3LKMFB-02hzgvMzgroAmMQ2pb5g3_uijveYoGQTqimzoY_Q0CIeG6gPKYRUSHHfM2TWJu9wUDsQhQds1c-jtiD5sQ-Kg-QsgZ5cL9tfD9VIB5wgPbzgucVHwGoe-74vjtPKzRYObkstmpk9uwk7WulfStneBrsDjd-78mfvO81FjU56ZD5skycDw4FRqimQkfjsFTOoP_2dh6O-atp4cCsVQQ1kjijF0_EDQO5O9gpLmQGAaufb2T9mA8_QOWGtAdN20DWMoRCp2eJzPR0fPm7rRd3v1uJaEg
# Defina o diretório de trabalho dentro do contêiner
WORKDIR /app

# Copie o arquivo package.json e package-lock.json para o diretório de trabalho
COPY package*.json ./

# Instale as dependências do projeto
RUN npm install --legacy-peer-deps

# Copie todo o código-fonte da aplicação para o contêiner
COPY . .

# Exponha a porta em que a aplicação estará ouvindo
EXPOSE 8080

# Comando para iniciar a aplicação
CMD ["npm", "start"]
