# Use a imagem Node.js oficial como base
FROM node:18.16.0

ENV DB_URL="mongodb://mongo:27017/ACHEI_O_BICHO"
ENV PORT=8080
ENV GLOBAL_PATH=apl-back-front/v1
ENV SECRET_KEY="I[W9X9QG>a0RkgmjiQ>X"
ENV INSTANCE_ID=instance58223
ENV TOKEN_API_MSG=3rvnc6k2oo4w8ygq
ENV TIMESTAMP_OTP=6000
ENV REGION_AWS=us-east-1
ENV AWS_ACCESS_KEY_ID=ASIA37I4JEJJWT6CPQ4C
ENV AWS_SECRET_ACCESS_KEY=NTYVmwn/qWjV9UIG2pAJL0fv/K/kLrIB37NFm5bW
ENV AWS_SESSION_TOKEN=FwoGZXIvYXdzEG8aDI5dJuanWv6KRtbWtSK8AZHnQBPyPpjcNV9seuyotcDTGpi3v6wPLhuFv4Djo9ow0iJNJhvVrH7HrWB5vDFsTX2UNhbcVQ8sf3cxEtG1m0Dq4oCGyTddTRAmZphFdiaPEtgRMcwyNlhrLr+3aFwpSzR4vO6M/T2okjs2qQHOAXra2GPCtl0EMhBwadmlPrhxv/xUlH5UOXSL4Xi3E5apUYgJfHVHpGeJJ59wUA85dqUZJRpLTxQzvrHpGBlsH79ZNE2V3F7lEP+nHeUdKLn5tKkGMi1IjZkg/kQ/gLD3CiSyW69cxj85g0rv0C8YQEVM1Xs4juN3qDVxxMmjr1WS3yY=
ENV BUCKET_S3=pilha-nuvem-tcc-sptech-bucket
ENV BEARER_TOKEN_CLOUD_FUNCTION=eyJhbGciOiJSUzI1NiIsImtpZCI6IjdkMzM0NDk3NTA2YWNiNzRjZGVlZGFhNjYxODRkMTU1NDdmODM2OTMiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJhY2NvdW50cy5nb29nbGUuY29tIiwiYXpwIjoiNjE4MTA0NzA4MDU0LTlyOXMxYzRhbGczNmVybGl1Y2hvOXQ1Mm4zMm42ZGdxLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwiYXVkIjoiNjE4MTA0NzA4MDU0LTlyOXMxYzRhbGczNmVybGl1Y2hvOXQ1Mm4zMm42ZGdxLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwic3ViIjoiMTE4MDUwNjQ3OTUzMjgxNDM1NDk3IiwiZW1haWwiOiJqb3NlLmJhbmR0ZWNAZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImF0X2hhc2giOiJjSHJGbEdmaXhfX2ZnRXgwYUEtNmtnIiwibmJmIjoxNjk3NDY1Mjc4LCJpYXQiOjE2OTc0NjU1NzgsImV4cCI6MTY5NzQ2OTE3OCwianRpIjoiNmJkMzhiOWZlNjg0ZWRlMzhjN2MzODM0OTAxYzMwM2E5NTU3YzgwMSJ9.E3Kap70q-js1Wqc9_RmR-uq6LPf7T-H8fFMeRVbDjaKjr2mQSSbXMoJD9Tx_ew8fp9p2pJpUQYBQByKh4AgY2z_smg4SsN-SXGV-0ZBRHAmDmJFV7x6FAVjT0ge0W0ZHKkHZWSB169woSbVPk1IZDYJWT8j7p2-u3xYflFmwY1zgLJnQvI6J26hXZ9RryaMNUvZUd3g4lD6K-thiq5Yrkvc-Dc4oK7oS3KJrEbac9GcPlEh1QkSYy_PQSa9-jzqVpMPYBRUZpBNDzzNBXl96va7fZc9B4Lio80bKHoigx7kKx0_1lEdO1DmHuIi2idYr9sjVDGHKIdB3BGl4FH_62Q

# Defina o diretório de trabalho dentro do contêiner
WORKDIR /app

# Copie o arquivo package.json e package-lock.json para o diretório de trabalho
COPY package*.json ./

# Instale as dependências do projeto
RUN npm install

# Copie todo o código-fonte da aplicação para o contêiner
COPY . .

# Exponha a porta em que a aplicação estará ouvindo
EXPOSE 8080

# Comando para iniciar a aplicação
CMD ["npm", "start"]
