# Use a imagem Node.js oficial como base
FROM node:18.16.0

ENV DB_URL="mongodb://mongo:27017/ACHEI_O_BICHO"
ENV PORT=8080
ENV GLOBAL_PATH=apl-back-front/v1
ENV SECRET_KEY="I[W9X9QG>a0RkgmjiQ>X"
ENV INSTANCE_ID=instance58223
ENV TOKEN_API_MSG=3rvnc6k2oo4w8ygq
ENV TIMESTAMP_OTP=6000
ENV REGION_AWS=us-east-1
ENV AWS_ACCESS_KEY_ID=ASIA37I4JEJJ2LBFTH6P
ENV AWS_SECRET_ACCESS_KEY=inAhqCQuLjVeNI/PLc4GHM34dsUJIUoMu+wALWB5
ENV AWS_SESSION_TOKEN=FwoGZXIvYXdzEFkaDGJ+u8RB7G6eZl+pLyK8Ae3hgeRube6A0a1RtlZAWns14JS5fCL6EbVc/ceJlKENYWBEdOq8mQS9fU93URKmCwICm6gYjZ7JW4Aau6aPwA2HhEejXLSPG5KF8+F05HYAu/H9KXa4Wnt+TV+qc1W807gAqLspU9z53w2FKPSHq3/Rrr8HmZyHIaeaM58UgZxJviw7oqw2Ca7YgPg2CwPQmvxP+TNEoSzQBxkt3N+Rz8bQpihw29ZIH5PrE8b/QBxXnaPfCynr1h6k4DGcKKGZsKkGMi0VbNwruAUugg46mJur5RFklThuDX7mJxQsirfUjC9D5VzoJP53YLP6YHMDdLc=
ENV BUCKET_S3=pilha-nuvem-tcc-sptech-bucket
ENV BEARER_TOKEN_CLOUD_FUNCTION=eyJhbGciOiJSUzI1NiIsImtpZCI6IjdkMzM0NDk3NTA2YWNiNzRjZGVlZGFhNjYxODRkMTU1NDdmODM2OTMiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJhY2NvdW50cy5nb29nbGUuY29tIiwiYXpwIjoiNjE4MTA0NzA4MDU0LTlyOXMxYzRhbGczNmVybGl1Y2hvOXQ1Mm4zMm42ZGdxLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwiYXVkIjoiNjE4MTA0NzA4MDU0LTlyOXMxYzRhbGczNmVybGl1Y2hvOXQ1Mm4zMm42ZGdxLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwic3ViIjoiMTE4MDUwNjQ3OTUzMjgxNDM1NDk3IiwiZW1haWwiOiJqb3NlLmJhbmR0ZWNAZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImF0X2hhc2giOiJnR0hsd3VCU20tdXo2eEZmN0xHUENRIiwibmJmIjoxNjk3Mzg3MzI5LCJpYXQiOjE2OTczODc2MjksImV4cCI6MTY5NzM5MTIyOSwianRpIjoiYTFkOTJjYWEyMWQ4NWE0NTE1MzVjNWIyZTgyZDUyNDg3OTNkYTRhYyJ9.NJhTOa4wZZ7VU0u0Sd7H1yO6YzWvb8dtE1W1eduwPwb1NAmTYshT61Sydf57TVt76a1bhPwoLbBUU7fAFuXfMHdKVbM2L8hW8Nyt0PyS98Tz8Su6cVcpadB2_nWTXms-atI6_1Zob6nMNmbjnQFfk8sDeGLEPqCkgblfX7-08PrzLzNpcnJABEyqlfJpHhOMRBGNXQxiIkDqVJx3LbVXHtC8ZJ5KxqmnOxsv5FoINe_jQlKWUTykiME4FqGSsKBq0uXdSa9KEvlk9MsRs-Bn4krC7RHcdXmDhXQyrn-0htIolJa84H0yPhwz81FIeVCzEn5IJF73nZ8-dVDIsMbIfA

# Defina o diretório de trabalho dentro do contêiner
WORKDIR /app

# Copie o arquivo package.json e package-lock.json para o diretório de trabalho
COPY package*.json ./

# Instale as dependências do projeto
RUN npm install

# Copie todo o código-fonte da aplicação para o contêiner
COPY . .

# Exponha a porta em que a aplicação estará ouvindo
EXPOSE 8080

# Comando para iniciar a aplicação
CMD ["npm", "start"]
