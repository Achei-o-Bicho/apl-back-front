# Use a imagem Node.js oficial como base
FROM node:18.16.0

ENV DB_URL="mongodb://mongo:27017/ACHEI_O_BICHO"
ENV PORT=8080
ENV GLOBAL_PATH=apl-back-front/v1
ENV SECRET_KEY="I[W9X9QG>a0RkgmjiQ>X"
ENV INSTANCE_ID=instance58223
ENV TOKEN_API_MSG=3rvnc6k2oo4w8ygq
ENV TIMESTAMP_OTP=6000
ENV REGION_AWS=us-east-1
ENV AWS_ACCESS_KEY_ID=ASIA37I4JEJJSBV4AOJ6
ENV AWS_SECRET_ACCESS_KEY=phoxItFI5jmDMZhgdsfaaG6n9KFSxpqrP/mAzVwa
ENV AWS_SESSION_TOKEN=FwoGZXIvYXdzEAkaDM2yf9Bqn5vFrttWjyK8AfPVxr1vP4LG5ncXBPYshaZoD+/QiTQmPM1B3jnZVamc/U037A6NUTGhQqXu3rqVtPwz+tnVClIJyvhwYmkImG+sY06MDn78kTTAO92qETjEeCcQ7dSq1Kd/gLgoP5y+jotUc5ekwD44Rxfk7N/I/ZAhs+OhgI9p2fFLqbcPGk6c+u1g9dobdElJK0oDZBYF1bDfvQYujX/nCX6bMtQAXQ/Wbr6Y3zPZLUhqF3El12S6TrTZqceR+5ZqmAhgKMzf1qkGMi3/EKZBqE099iuPyakFZgyhvoczlHcOb1lEi1eJKIa2Nxgu/LQiS2X90KsIN3w=
ENV BUCKET_S3=pilha-nuvem-tcc-sptech-bucket
ENV BEARER_TOKEN_CLOUD_FUNCTION=eyJhbGciOiJSUzI1NiIsImtpZCI6ImEwNmFmMGI2OGEyMTE5ZDY5MmNhYzRhYmY0MTVmZjM3ODgxMzZmNjUiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJhY2NvdW50cy5nb29nbGUuY29tIiwiYXpwIjoiNjE4MTA0NzA4MDU0LTlyOXMxYzRhbGczNmVybGl1Y2hvOXQ1Mm4zMm42ZGdxLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwiYXVkIjoiNjE4MTA0NzA4MDU0LTlyOXMxYzRhbGczNmVybGl1Y2hvOXQ1Mm4zMm42ZGdxLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwic3ViIjoiMTE4MDUwNjQ3OTUzMjgxNDM1NDk3IiwiZW1haWwiOiJqb3NlLmJhbmR0ZWNAZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImF0X2hhc2giOiJsQ0p0RTkwSXNVdmNNZTB2b0NpMTB3IiwibmJmIjoxNjk4MDI0MTUzLCJpYXQiOjE2OTgwMjQ0NTMsImV4cCI6MTY5ODAyODA1MywianRpIjoiMmZjNWI1MGFlMTBjNGM1ODBhNzNkMjJmMDU5YmU2YTdmMDI3N2QwYSJ9.PtdAIW8keo8L9WGa-6W2puyv0QbnN9WzpNGEwEwzcI_L8aYKXdzgYX-hHIfkgPOi3TEo_aJ7wmGDZHZf3ch61pg5r986K_OIKOF8d7yoN86UpBUCQ-dlaJoIEGPUu31uWiL9LcF6y6XKwbwh7BMmjk72AFMWbGM9A9V5LAoVkG2GXmraDNxBaSuL7JJCdLQ4sTuG_T3mm7EDsOV-VcVrJYSBx_-x9LAblvNM4RuwIuLRWQ8FWQTHVevQQqAjUP7FUsnuLSoruhJCuB1Aa3j_W66MlI0KdsIb9yYJRsa-wpZ1k74f7Kc_z-cdHctS_w5Mt0FgL_md_dqCmnVN6YxS3g
# Defina o diretório de trabalho dentro do contêiner
WORKDIR /app

# Copie o arquivo package.json e package-lock.json para o diretório de trabalho
COPY package*.json ./

# Instale as dependências do projeto
RUN npm install

# Copie todo o código-fonte da aplicação para o contêiner
COPY . .

# Exponha a porta em que a aplicação estará ouvindo
EXPOSE 8080

# Comando para iniciar a aplicação
CMD ["npm", "start"]
