# Use a imagem Node.js oficial como base
FROM node:18.16.0

ENV DB_URL="mongodb://mongo:27017/ACHEI_O_BICHO"
ENV PORT=8080
ENV GLOBAL_PATH=apl-back-front/v1
ENV SECRET_KEY="I[W9X9QG>a0RkgmjiQ>X"
ENV INSTANCE_ID=instance58223
ENV TOKEN_API_MSG=3rvnc6k2oo4w8ygq
ENV TIMESTAMP_OTP=6000
ENV REGION_AWS=us-east-1
ENV AWS_ACCESS_KEY_ID=ASIA37I4JEJJZHP4CWNU
ENV AWS_SECRET_ACCESS_KEY=KyGjbW9YPoShtaYe1Qlmu8BduHeXuHEh5/o5NLo6
ENV AWS_SESSION_TOKEN=FwoGZXIvYXdzEHkaDAdyzP5VGBk69NxZliK8ASJv8gP+8Q5MaW5GkFtcQ9JxfYX/obsPGETfQ5iXF55C7wHHFkIqokXsS2cWu2bUlUHwzew5vzbGXTVSN0IdV0C6nXfnxN6jhbfpwEEwj7ylEd1K/qGqw3r0qLXlXD+QKovmDHdUOE79naToJd+EYclDAeEV+5/voHc6F74bTEdt88bZjBFT7dNoqv0njB3/SylmouOeAmvQHHObJMT5vs2N0rIUuYwPI143sFa31xuMScyslPLjoPRk/wGhKLuq76kGMi3Gq9Amgm8DRI0zVGuaYLNjsafm3cPb/xW4yRh+NOJnP28p5ISNA0Ptnkw9pM8=
ENV BUCKET_S3=pilha-nuvem-tcc-sptech-bucket
ENV BEARER_TOKEN_CLOUD_FUNCTION=eyJhbGciOiJSUzI1NiIsImtpZCI6ImEwNmFmMGI2OGEyMTE5ZDY5MmNhYzRhYmY0MTVmZjM3ODgxMzZmNjUiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJhY2NvdW50cy5nb29nbGUuY29tIiwiYXpwIjoiNjE4MTA0NzA4MDU0LTlyOXMxYzRhbGczNmVybGl1Y2hvOXQ1Mm4zMm42ZGdxLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwiYXVkIjoiNjE4MTA0NzA4MDU0LTlyOXMxYzRhbGczNmVybGl1Y2hvOXQ1Mm4zMm42ZGdxLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwic3ViIjoiMTE4MDUwNjQ3OTUzMjgxNDM1NDk3IiwiZW1haWwiOiJqb3NlLmJhbmR0ZWNAZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImF0X2hhc2giOiJYWGJIbVpEeld3b1JsamNrVDVxZTlRIiwibmJmIjoxNjk4NDI0MDY4LCJpYXQiOjE2OTg0MjQzNjgsImV4cCI6MTY5ODQyNzk2OCwianRpIjoiOTQ2N2M0OWZmYTUxMDE5OTI3ZDQ1OGRiODQyNGRiNzlhMjQ1NzlmMiJ9.eg1cMIvE8MNNeS7KPMetj0z7SzMHWNoDdjbHjnhxpWqwYa5XlFTYGzzzYQqOTtKWw9_YQgvnVF9t4rbSGQ1sUc9lif4KPpQtt0UbmTaT2VP9RBGB1dJqbziVh5oixH5JrCdyx_uwZRkdnwkrCBjZN8fCA7Im_6zm5XUXIsND0_eReLG-VVtdW2AbC9TjEOTNY5bQWuuwkf-jv55JfO21jIXSGB6cVBJFXm5v3bhy_E5ju27WuphOlWSTEFumYh5OcTaleXphnvlDkrnG0PUDrWAisQNPVzie-eg8DB1iGdKyAuIVAHYClrY3dmcVdjHaX5Z6JphQmMY5xwaQTt2rUw
# Defina o diretório de trabalho dentro do contêiner
WORKDIR /app

# Copie o arquivo package.json e package-lock.json para o diretório de trabalho
COPY package*.json ./

# Instale as dependências do projeto
RUN npm install --legacy-peer-deps

# Copie todo o código-fonte da aplicação para o contêiner
COPY . .

# Exponha a porta em que a aplicação estará ouvindo
EXPOSE 8080

# Comando para iniciar a aplicação
CMD ["npm", "start"]
