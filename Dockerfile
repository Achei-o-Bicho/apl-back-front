# Use a imagem Node.js oficial como base
FROM node:18.16.0

ENV DB_URL="mongodb://mongo:27017/ACHEI_O_BICHO"
ENV PORT=8080
ENV GLOBAL_PATH=apl-back-front/v1
ENV SECRET_KEY="I[W9X9QG>a0RkgmjiQ>X"
ENV INSTANCE_ID=instance58223
ENV TOKEN_API_MSG=3rvnc6k2oo4w8ygq
ENV TIMESTAMP_OTP=6000
ENV REGION_AWS=us-east-1
ENV AWS_ACCESS_KEY_ID=ASIA37I4JEJJS5BWDD6A
ENV AWS_SECRET_ACCESS_KEY=H3/vPWeq00qpX54LXqeY2esoibf3bvca4gX/YUNJ
ENV AWS_SESSION_TOKEN=FwoGZXIvYXdzEML//////////wEaDLYjN87rV+DTQQAATCK8AcjEemtqJYEA/fez5fkD4LVg9aG2CcO35PGmbnbXypIXDl5L+/x7yM2p+bhaFtaZbBcvAT7UrMiCKFvEUQ3N1ASXGXVYeWXTw7sHfqCAK5crdA3LFBXphLJ5b0vXp7e9/tjLbKQzFy9HTmJxNv04QAyX1Wo0aYXjAVJ12w6LVPNBwi6yFfBX0oamxJI69rC4g1A1r0T0n6ad8S0rNcRVY8sqeBQvS7kaCKLtSLJcw7gOcWXXpaxZgw/2vcJQKNejx6kGMi2sM3ipb6ml6LyQjyg9yAnq5gb8kVQ/cQUT9TzvxVMWO+3ArFIrumm78U/K3AA=
ENV BUCKET_S3=pilha-nuvem-tcc-sptech-bucket
ENV BEARER_TOKEN_CLOUD_FUNCTION=eyJhbGciOiJSUzI1NiIsImtpZCI6IjdkMzM0NDk3NTA2YWNiNzRjZGVlZGFhNjYxODRkMTU1NDdmODM2OTMiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJhY2NvdW50cy5nb29nbGUuY29tIiwiYXpwIjoiNjE4MTA0NzA4MDU0LTlyOXMxYzRhbGczNmVybGl1Y2hvOXQ1Mm4zMm42ZGdxLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwiYXVkIjoiNjE4MTA0NzA4MDU0LTlyOXMxYzRhbGczNmVybGl1Y2hvOXQ1Mm4zMm42ZGdxLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwic3ViIjoiMTE4MDUwNjQ3OTUzMjgxNDM1NDk3IiwiZW1haWwiOiJqb3NlLmJhbmR0ZWNAZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImF0X2hhc2giOiJ4c0JpN3pzT2NHLXB4VTRDMHZhMHFnIiwibmJmIjoxNjk3NzcwNDUyLCJpYXQiOjE2OTc3NzA3NTIsImV4cCI6MTY5Nzc3NDM1MiwianRpIjoiZGZjNzllNDZmM2U3MGZkNzE3YjZiNjM5MGIwYTY1YjMwZDRmMmEzMiJ9.CCWZsebeCKc24dXjfDqnqJVhwJwMe5n9OyhoxZ_XnwdpjIMZxCY-esYiZW2vErS6A0O3M09VVFR0ZkrdNI03pkPSeJBzGodfIUvXOJm-Fa2FInAHd0l3cbNkwUDQ5OPmYkmC3VNzQGB9PuEJFI1-SPd9l52kZEeDQeAxDa8oWwOFcNe9L2g3sEG1NfiPkzH1fRLxBYae_gTFMaIKJU8OdFIiLZ55yttLb1V7bwELxzhUbw3j10Ihz4-hlxiCkEsa5szFTIUxYhPrLonovoyCgB6UJyjF1GisT-tOv7eLUpgL2SEjUqjk3RD0KFaAvC247LbyC0y1B3NBcoiueD4TmA
# Defina o diretório de trabalho dentro do contêiner
WORKDIR /app

# Copie o arquivo package.json e package-lock.json para o diretório de trabalho
COPY package*.json ./

# Instale as dependências do projeto
RUN npm install

# Copie todo o código-fonte da aplicação para o contêiner
COPY . .

# Exponha a porta em que a aplicação estará ouvindo
EXPOSE 8080

# Comando para iniciar a aplicação
CMD ["npm", "start"]
